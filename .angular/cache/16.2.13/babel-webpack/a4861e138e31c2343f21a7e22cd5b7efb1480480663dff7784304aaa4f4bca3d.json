{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/product-service.service\";\nimport * as i3 from \"@angular/common\";\nfunction CartComponent_tr_16_td_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 10)(1, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CartComponent_tr_16_td_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      const i_r3 = ctx_r9.index;\n      const item_r2 = ctx_r9.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.remove(i_r3, item_r2.quantity));\n    });\n    i0.ɵɵtext(2, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CartComponent_tr_16_td_5_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      const i_r3 = ctx_r12.index;\n      const item_r2 = ctx_r12.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.add(i_r3, item_r2.quantity));\n    });\n    i0.ɵɵtext(5, \"+\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.quantity, \" \");\n  }\n}\nfunction CartComponent_tr_16_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 10)(1, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CartComponent_tr_16_td_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      const i_r3 = ctx_r15.index;\n      const item_r2 = ctx_r15.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.remove(i_r3, item_r2.quantity));\n    });\n    i0.ɵɵtext(2, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CartComponent_tr_16_td_6_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext();\n      const i_r3 = ctx_r18.index;\n      const item_r2 = ctx_r18.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.add(i_r3, item_r2.quantity));\n    });\n    i0.ɵɵtext(5, \"+\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.quantity, \" \");\n  }\n}\nfunction CartComponent_tr_16_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r2.quantity * item_r2.salePrice);\n  }\n}\nfunction CartComponent_tr_16_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r2.quantity * item_r2.mrp);\n  }\n}\nfunction CartComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, CartComponent_tr_16_td_5_Template, 6, 1, \"td\", 5);\n    i0.ɵɵtemplate(6, CartComponent_tr_16_td_6_Template, 6, 1, \"td\", 5);\n    i0.ɵɵtemplate(7, CartComponent_tr_16_td_7_Template, 2, 1, \"td\", 6);\n    i0.ɵɵtemplate(8, CartComponent_tr_16_td_8_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementStart(9, \"td\", 7)(10, \"i\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_tr_16_Template_i_click_10_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.viewProduct());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"i\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_tr_16_Template_i_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.deleteItems(item_r2.id));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r3 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r2.salePrice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r2.salePrice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r2.salePrice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r2.salePrice);\n  }\n}\nfunction CartComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\");\n  }\n}\nexport class CartComponent {\n  constructor(route, product) {\n    this.route = route;\n    this.product = product;\n    this.subTotal = 0;\n    this.cartItems = [];\n    this.total();\n  }\n  ngOnInit() {\n    this.total();\n    this.getCartItems();\n  }\n  add(index, val) {\n    this.cartItems[index].quantity++;\n    this.total();\n  }\n  remove(index, val) {\n    if (val > 1) {\n      this.cartItems[index].quantity--;\n      this.total();\n    }\n  }\n  viewProduct() {\n    this.route.navigate(['produtList']);\n    alert('View Product Called');\n  }\n  deleteItems(id) {\n    alert('product deleted from Cart');\n    this.product.removeProduct(id).subscribe(result => {\n      console.log(\"after Delete\", result);\n    });\n  }\n  total() {\n    let subTotal = 0;\n    this.subTotal = 0;\n    for (let i = 0; i < this.cartItems.length; i++) {\n      const element = this.cartItems[i];\n      if (element.salePrice) {\n        let productTotal = element.quantity * element.salePrice;\n        subTotal = subTotal + productTotal;\n        console.log('This is SubTotal', this.subTotal);\n        console.log('This is sellPrice', element.salePrice);\n      } else {\n        let productTotal = element.quantity * element.mrp;\n        subTotal = subTotal + productTotal;\n      }\n    }\n    this.subTotal = subTotal;\n  }\n  getCartItems() {\n    this.product.getCartItems().subscribe(result => {\n      console.log(\"Cart Items\", result);\n      result.quantity = 1;\n      this.cartItems = result;\n      console.log(\"Final Response\", this.cartItems);\n      this.total();\n    });\n  }\n  checkout() {\n    alert('checkout is called');\n  }\n  static #_ = this.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductServiceService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    decls: 22,\n    vars: 3,\n    consts: [[1, \"cartPageHeader\"], [1, \"cartPageItems\"], [4, \"ngFor\", \"ngForOf\"], [1, \"cartFooter\"], [\"id\", \"checkout\", 3, \"click\"], [\"id\", \"quantity\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"actions\"], [\"id\", \"view\", 1, \"fa-regular\", \"fa-eye\", 3, \"click\"], [\"id\", \"delete\", 1, \"fa-regular\", \"fa-trash-can\", 3, \"click\"], [\"id\", \"quantity\"], [3, \"click\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Your Cart Items!\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"table\")(5, \"tr\")(6, \"th\");\n        i0.ɵɵtext(7, \"Sr.No\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\");\n        i0.ɵɵtext(9, \"Product Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Quantity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"Amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Action\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(16, CartComponent_tr_16_Template, 12, 6, \"tr\", 2);\n        i0.ɵɵtemplate(17, CartComponent_tr_17_Template, 1, 0, \"tr\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 3);\n        i0.ɵɵtext(19);\n        i0.ɵɵelementStart(20, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_20_listener() {\n          return ctx.checkout();\n        });\n        i0.ɵɵtext(21, \"Checkout\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.subTotal, \" \");\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf],\n    styles: [\".cartPageHeader[_ngcontent-%COMP%]{\\n    width: 90vw;\\n    margin: auto;\\n    border-bottom: 1px solid lightgrey;\\n}\\n\\n.cartPageHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{\\nfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n    text-decoration: underline;\\n}\\n\\n\\n.cartPageItems[_ngcontent-%COMP%]{\\n    width: 90vw;\\n    margin: auto;\\n    display: flex;\\n    justify-content: center;\\n}\\n\\n.cartPageItems[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{\\n    width: 100%;\\n    font-size: 1.5rem;\\n}\\n\\ntable[_ngcontent-%COMP%]{\\n    text-align: center;\\n    margin-top: 2rem;\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n}\\n\\nth[_ngcontent-%COMP%]{\\n    border-bottom: 0.2rem solid gray;\\n    border-collapse: collapse;\\n    margin: 0;\\n    padding: 0;\\n}\\n\\ntd[_ngcontent-%COMP%]{\\n    line-height: 1.5rem;\\n    margin: 0;\\n    border: 0.2 rem solid lightgrey;\\n}\\n\\ntr[_ngcontent-%COMP%]:nth-child(odd){\\n    background-color: lightgrey;\\n}\\n\\n#quantity[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n\\nbutton[_ngcontent-%COMP%]{\\n    border: none;\\n    background-color: transparent;\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n    font-size: 1.5rem;\\n    font-weight: 600;\\n}\\n\\n.actions[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: space-evenly;\\n    align-items: center;\\n}\\n\\n#view[_ngcontent-%COMP%]{\\n    color: green;\\n}\\n\\n#delete[_ngcontent-%COMP%]{\\n    color: red;\\n}\\n\\n.cartFooter[_ngcontent-%COMP%]{\\n    position: fixed;\\n    bottom: 0;\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n    width: 100%;\\n    text-align: right;\\n}\\n\\n#checkout[_ngcontent-%COMP%]{\\n    background-color: crimson;\\n    color: white;\\n    margin-right: 5rem;   \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQnV5ZXIvY29tcG9uZW50cy9jYXJ0L2NhcnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0NBQWtDO0FBQ3RDOztBQUVBO0FBQ0EsNERBQTREO0lBQ3hELDBCQUEwQjtBQUM5Qjs7O0FBR0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGFBQWE7SUFDYix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQiw0REFBNEQ7QUFDaEU7O0FBRUE7SUFDSSxnQ0FBZ0M7SUFDaEMseUJBQXlCO0lBQ3pCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsU0FBUztJQUNULCtCQUErQjtBQUNuQzs7QUFFQTtJQUNJLDJCQUEyQjtBQUMvQjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLDZCQUE2QjtJQUM3Qiw0REFBNEQ7SUFDNUQsaUJBQWlCO0lBQ2pCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGVBQWU7SUFDZixTQUFTO0lBQ1QsNERBQTREO0lBQzVELFdBQVc7SUFDWCxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLGtCQUFrQjtBQUN0QiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJ0UGFnZUhlYWRlcntcclxuICAgIHdpZHRoOiA5MHZ3O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGxpZ2h0Z3JleTtcclxufVxyXG5cclxuLmNhcnRQYWdlSGVhZGVyIGgye1xyXG5mb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG5cclxuXHJcbi5jYXJ0UGFnZUl0ZW1ze1xyXG4gICAgd2lkdGg6IDkwdnc7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jYXJ0UGFnZUl0ZW1zIHRhYmxle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxufVxyXG5cclxudGFibGV7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiAycmVtO1xyXG4gICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG50aHtcclxuICAgIGJvcmRlci1ib3R0b206IDAuMnJlbSBzb2xpZCBncmF5O1xyXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbnRke1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNXJlbTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGJvcmRlcjogMC4yIHJlbSBzb2xpZCBsaWdodGdyZXk7XHJcbn1cclxuXHJcbnRyOm50aC1jaGlsZChvZGQpe1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmV5O1xyXG59XHJcblxyXG4jcXVhbnRpdHl7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuYnV0dG9ue1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcbi5hY3Rpb25ze1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuI3ZpZXd7XHJcbiAgICBjb2xvcjogZ3JlZW47XHJcbn1cclxuXHJcbiNkZWxldGV7XHJcbiAgICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG4uY2FydEZvb3RlcntcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbn1cclxuXHJcbiNjaGVja291dHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGNyaW1zb247XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVyZW07ICAgXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","CartComponent_tr_16_td_5_Template_button_click_1_listener","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","i_r3","index","item_r2","$implicit","ctx_r8","ɵɵresetView","remove","quantity","ɵɵtext","ɵɵelementEnd","CartComponent_tr_16_td_5_Template_button_click_4_listener","ctx_r12","ctx_r11","add","ɵɵadvance","ɵɵtextInterpolate1","CartComponent_tr_16_td_6_Template_button_click_1_listener","_r16","ctx_r15","ctx_r14","CartComponent_tr_16_td_6_Template_button_click_4_listener","ctx_r18","ctx_r17","ɵɵtextInterpolate","salePrice","mrp","ɵɵtemplate","CartComponent_tr_16_td_5_Template","CartComponent_tr_16_td_6_Template","CartComponent_tr_16_td_7_Template","CartComponent_tr_16_td_8_Template","CartComponent_tr_16_Template_i_click_10_listener","_r23","ctx_r22","viewProduct","CartComponent_tr_16_Template_i_click_11_listener","restoredCtx","ctx_r24","deleteItems","id","name","ɵɵproperty","ɵɵelement","CartComponent","constructor","route","product","subTotal","cartItems","total","ngOnInit","getCartItems","val","navigate","alert","removeProduct","subscribe","result","console","log","i","length","element","productTotal","checkout","_","ɵɵdirectiveInject","i1","Router","i2","ProductServiceService","_2","selectors","decls","vars","consts","template","CartComponent_Template","rf","ctx","CartComponent_tr_16_Template","CartComponent_tr_17_Template","CartComponent_Template_button_click_20_listener"],"sources":["E:\\Angular\\SRH SBGI\\SRH\\src\\app\\Buyer\\components\\cart\\cart.component.ts","E:\\Angular\\SRH SBGI\\SRH\\src\\app\\Buyer\\components\\cart\\cart.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { cartItem, topSelling } from 'src/app/dataTypes';\r\nimport { ProductServiceService } from 'src/app/services/product-service.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css'],\r\n})\r\nexport class CartComponent {\r\n  [x: string]: any;\r\n\r\n  constructor(private route: Router, private product:ProductServiceService) {\r\n    \r\n    this.total();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.total();\r\n    this.getCartItems();\r\n  }\r\n\r\n  subTotal: number = 0;\r\n\r\n  add(index: number, val: number) {\r\n    this.cartItems[index].quantity++;\r\n    this.total();\r\n  }\r\n\r\n  remove(index: number, val: number) {\r\n    if (val > 1) {\r\n      this.cartItems[index].quantity--;\r\n      this.total();\r\n    }\r\n  }\r\n\r\n  viewProduct() {\r\n    this.route.navigate(['produtList']);\r\n    alert('View Product Called')\r\n  }\r\n\r\n\r\n  deleteItems(id:any) {\r\n    alert('product deleted from Cart');\r\n    this.product.removeProduct(id).subscribe((result:any)=>{\r\n        console.log(\"after Delete\", result);\r\n    })\r\n    \r\n  }\r\n\r\n  total() {\r\n    let subTotal = 0;\r\n    this.subTotal = 0;\r\n    for (let i = 0; i < this.cartItems.length; i++) {\r\n      const element = this.cartItems[i];\r\n      if (element.salePrice) { \r\n        let productTotal = element.quantity * element.salePrice;\r\n        subTotal = subTotal + productTotal;\r\n        console.log('This is SubTotal', this.subTotal);\r\n        console.log('This is sellPrice', element.salePrice);\r\n      } else {\r\n        let productTotal = element.quantity * element.mrp;\r\n        subTotal = subTotal + productTotal;\r\n      }\r\n    }\r\n\r\n    this.subTotal = subTotal;\r\n  }\r\n\r\n  cartItems:any=[]\r\n  getCartItems(){\r\n    this.product.getCartItems().subscribe((result:any)=>{\r\n      console.log(\"Cart Items\",result);\r\n      result.quantity=1;\r\n      this.cartItems=result;\r\n      console.log(\"Final Response\",this.cartItems);\r\n      this.total();\r\n      \r\n    })\r\n  }\r\n\r\n\r\n  checkout(){\r\n    alert('checkout is called');\r\n  }\r\n}\r\n","<div class=\"cartPageHeader\">\r\n  <h2>Your Cart Items!</h2>\r\n</div>\r\n\r\n<div class=\"cartPageItems\">\r\n  <table>\r\n    <tr>\r\n      <th>Sr.No</th>\r\n      <th>Product Name</th>\r\n      <th>Quantity</th>\r\n      <th>Amount</th>\r\n      <th>Action</th>\r\n    </tr>\r\n    <tr *ngFor=\"let item of cartItems; let i = index\">\r\n      <td>{{i+1}}</td>\r\n      <td>{{ item.name }}</td>\r\n      <td id=\"quantity\" *ngIf=\"item.salePrice\">\r\n        <button (click)=\"remove(i, item.quantity)\">-</button>\r\n        {{ item.quantity }}\r\n        <button (click)=\"add(i, item.quantity)\">+</button>\r\n      </td>\r\n      <td id=\"quantity\" *ngIf=\"!item.salePrice\">\r\n        <button (click)=\"remove(i, item.quantity)\">-</button>\r\n        {{ item.quantity }}\r\n        <button (click)=\"add(i, item.quantity)\">+</button>\r\n      </td>\r\n      <td *ngIf=\"item.salePrice\">{{ item.quantity * item.salePrice }}</td>\r\n      <td *ngIf=\"!item.salePrice\">{{ item.quantity * item.mrp }}</td>\r\n      <td class=\"actions\">\r\n        <i class=\"fa-regular fa-eye\" (click)=\"viewProduct()\"  id=\"view\"></i>\r\n        <i class=\"fa-regular fa-trash-can\" (click)=\"deleteItems(item.id)\"  id=\"delete\"></i>\r\n      </td>\r\n    </tr>\r\n    <tr *ngFor=\"let item of cartItems\"></tr>\r\n  </table>\r\n  <div class=\"cartFooter\">\r\n    {{ subTotal }}\r\n    <button (click)=\"checkout()\" id=\"checkout\">Checkout</button>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}