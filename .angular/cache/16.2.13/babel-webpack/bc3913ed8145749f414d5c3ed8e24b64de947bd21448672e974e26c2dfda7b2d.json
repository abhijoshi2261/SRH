{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let CartComponent = class CartComponent {\n  constructor(route, product) {\n    this.route = route;\n    this.product = product;\n    this.subTotal = 0;\n    this.cartItems = [];\n    this.total();\n  }\n  ngOnInit() {\n    this.total();\n    this.getCartItems();\n  }\n  add(index, val) {\n    this.cartItems[index].quantity++;\n    this.total();\n  }\n  remove(index, val) {\n    if (val > 1) {\n      this.cartItems[index].quantity--;\n      this.total();\n    }\n  }\n  viewProduct() {\n    this.route.navigate(['produtList']);\n    alert('View Product Called');\n  }\n  deleteItems(id) {\n    alert('product deleted from Cart');\n    this.product.removeProduct(id).subscribe(result => {\n      console.log(\"after Delete\", result);\n    });\n  }\n  total() {\n    let subTotal = 0;\n    this.subTotal = 0;\n    for (let i = 0; i < this.cartItems.length; i++) {\n      const element = this.cartItems[i];\n      if (element.salePrice) {\n        let productTotal = element.quantity * element.salePrice;\n        subTotal = subTotal + productTotal;\n        console.log('This is SubTotal', this.subTotal);\n        console.log('This is sellPrice', element.salePrice);\n      } else {\n        let productTotal = element.quantity * element.mrp;\n        subTotal = subTotal + productTotal;\n      }\n    }\n    this.subTotal = subTotal;\n  }\n  getCartItems() {\n    this.product.getCartItems().subscribe(result => {\n      console.log(\"Cart Items\", result);\n      result.quantity = 1;\n      this.cartItems = result;\n      console.log(\"Final Response\", this.cartItems);\n      this.total();\n    });\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})], CartComponent);","map":{"version":3,"names":["Component","CartComponent","constructor","route","product","subTotal","cartItems","total","ngOnInit","getCartItems","add","index","val","quantity","remove","viewProduct","navigate","alert","deleteItems","id","removeProduct","subscribe","result","console","log","i","length","element","salePrice","productTotal","mrp","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\Angular\\SRH SBGI\\SRH\\src\\app\\Buyer\\components\\cart\\cart.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { cartItem, topSelling } from 'src/app/dataTypes';\r\nimport { ProductServiceService } from 'src/app/services/product-service.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css'],\r\n})\r\nexport class CartComponent {\r\n  [x: string]: any;\r\n\r\n  constructor(private route: Router, private product:ProductServiceService) {\r\n    \r\n    this.total();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.total();\r\n    this.getCartItems();\r\n  }\r\n\r\n  subTotal: number = 0;\r\n\r\n  add(index: number, val: number) {\r\n    this.cartItems[index].quantity++;\r\n    this.total();\r\n  }\r\n\r\n  remove(index: number, val: number) {\r\n    if (val > 1) {\r\n      this.cartItems[index].quantity--;\r\n      this.total();\r\n    }\r\n  }\r\n\r\n  viewProduct() {\r\n    this.route.navigate(['produtList']);\r\n    alert('View Product Called')\r\n  }\r\n\r\n\r\n  deleteItems(id:any) {\r\n    alert('product deleted from Cart');\r\n    this.product.removeProduct(id).subscribe((result:any)=>{\r\n        console.log(\"after Delete\", result);\r\n    })\r\n    \r\n  }\r\n\r\n  total() {\r\n    let subTotal = 0;\r\n    this.subTotal = 0;\r\n    for (let i = 0; i < this.cartItems.length; i++) {\r\n      const element = this.cartItems[i];\r\n      if (element.salePrice) { \r\n        let productTotal = element.quantity * element.salePrice;\r\n        subTotal = subTotal + productTotal;\r\n        console.log('This is SubTotal', this.subTotal);\r\n        console.log('This is sellPrice', element.salePrice);\r\n      } else {\r\n        let productTotal = element.quantity * element.mrp;\r\n        subTotal = subTotal + productTotal;\r\n      }\r\n    }\r\n\r\n    this.subTotal = subTotal;\r\n  }\r\n\r\n  cartItems:any=[]\r\n  getCartItems(){\r\n    this.product.getCartItems().subscribe((result:any)=>{\r\n      console.log(\"Cart Items\",result);\r\n      result.quantity=1;\r\n      this.cartItems=result;\r\n      console.log(\"Final Response\",this.cartItems);\r\n      this.total();\r\n      \r\n    })\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAGxBC,YAAoBC,KAAa,EAAUC,OAA6B;IAApD,KAAAD,KAAK,GAALA,KAAK;IAAkB,KAAAC,OAAO,GAAPA,OAAO;IAUlD,KAAAC,QAAQ,GAAW,CAAC;IA+CpB,KAAAC,SAAS,GAAK,EAAE;IAvDd,IAAI,CAACC,KAAK,EAAE;EACd;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACD,KAAK,EAAE;IACZ,IAAI,CAACE,YAAY,EAAE;EACrB;EAIAC,GAAGA,CAACC,KAAa,EAAEC,GAAW;IAC5B,IAAI,CAACN,SAAS,CAACK,KAAK,CAAC,CAACE,QAAQ,EAAE;IAChC,IAAI,CAACN,KAAK,EAAE;EACd;EAEAO,MAAMA,CAACH,KAAa,EAAEC,GAAW;IAC/B,IAAIA,GAAG,GAAG,CAAC,EAAE;MACX,IAAI,CAACN,SAAS,CAACK,KAAK,CAAC,CAACE,QAAQ,EAAE;MAChC,IAAI,CAACN,KAAK,EAAE;;EAEhB;EAEAQ,WAAWA,CAAA;IACT,IAAI,CAACZ,KAAK,CAACa,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACnCC,KAAK,CAAC,qBAAqB,CAAC;EAC9B;EAGAC,WAAWA,CAACC,EAAM;IAChBF,KAAK,CAAC,2BAA2B,CAAC;IAClC,IAAI,CAACb,OAAO,CAACgB,aAAa,CAACD,EAAE,CAAC,CAACE,SAAS,CAAEC,MAAU,IAAG;MACnDC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,MAAM,CAAC;IACvC,CAAC,CAAC;EAEJ;EAEAf,KAAKA,CAAA;IACH,IAAIF,QAAQ,GAAG,CAAC;IAChB,IAAI,CAACA,QAAQ,GAAG,CAAC;IACjB,KAAK,IAAIoB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACnB,SAAS,CAACoB,MAAM,EAAED,CAAC,EAAE,EAAE;MAC9C,MAAME,OAAO,GAAG,IAAI,CAACrB,SAAS,CAACmB,CAAC,CAAC;MACjC,IAAIE,OAAO,CAACC,SAAS,EAAE;QACrB,IAAIC,YAAY,GAAGF,OAAO,CAACd,QAAQ,GAAGc,OAAO,CAACC,SAAS;QACvDvB,QAAQ,GAAGA,QAAQ,GAAGwB,YAAY;QAClCN,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACnB,QAAQ,CAAC;QAC9CkB,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEG,OAAO,CAACC,SAAS,CAAC;OACpD,MAAM;QACL,IAAIC,YAAY,GAAGF,OAAO,CAACd,QAAQ,GAAGc,OAAO,CAACG,GAAG;QACjDzB,QAAQ,GAAGA,QAAQ,GAAGwB,YAAY;;;IAItC,IAAI,CAACxB,QAAQ,GAAGA,QAAQ;EAC1B;EAGAI,YAAYA,CAAA;IACV,IAAI,CAACL,OAAO,CAACK,YAAY,EAAE,CAACY,SAAS,CAAEC,MAAU,IAAG;MAClDC,OAAO,CAACC,GAAG,CAAC,YAAY,EAACF,MAAM,CAAC;MAChCA,MAAM,CAACT,QAAQ,GAAC,CAAC;MACjB,IAAI,CAACP,SAAS,GAACgB,MAAM;MACrBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAC,IAAI,CAAClB,SAAS,CAAC;MAC5C,IAAI,CAACC,KAAK,EAAE;IAEd,CAAC,CAAC;EACJ;CACD;AAvEYN,aAAa,GAAA8B,UAAA,EALzB/B,SAAS,CAAC;EACTgC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWjC,aAAa,CAuEzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}